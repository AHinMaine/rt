Feb 11 2000
-----------

Imported brandon's url hilighting code.


Jan 8 2000
----------
 
 Fixed setting due dates via the web ui, thanks to Thomas Koester

Dec 11 2000
-----------

Mail headers are now parsed case insensitively, as they should be.

Dec 1 2000
----------

 The web ui now properly splits messages without dropping content on the floor.

Nov 8 2000
----------

 All mail sent out is now 'bulk' once again. sorry about that.

Nov 2 2000
----------

 RT now properly honors Precedence: bulk and Precedence: junk headers.
        
 Fix for problems with merging merged tickets
                -All thanks to Jan Okrouhly <okrouhly@civ.zcu.cz>

Oct 8 2000
----------

-fixed displaying of merged tickets in the web ui.                              -fixed displaying of merged tickets in the cli (-publichistory                   and -history|-show)                                                            -fixed function of -publichistory in the cli                                    +added information about function ./rt -publichistory <num> to cli help  
                -All thanks to Jan Okrouhly <okrouhly@civ.zcu.cz>

setuid wrapper is now responsible about what it clobbers.
                -Thanks to Jan Kujawa <kujawa@ultranet.com>



August 31 2000
--------------

setuid wrapper now _really_ stomps ENV


July 18 2000
------------

Enhanced mail gateway functionality for a paying customer ;)

31 May 2000
-----------

Some ui cleanups in the web ui. 


30 Mar 2000
-----------

Changed the queue default from somewhere.com to example.com in the example
so as not to entice poeple to send mail to Kee's domain.

28 Feb 2000
-----------

* Fixed a longstanding bug in the Web Admin tool that granted people with 
RT Admin access exlicit queue access as well.

* Added functionality for exporting tickets to rtq. Useful for curl.com's 
reporting scrips

       -export           Outputs selected requests in tab-delimited format,
                         including all fields.  Embedded tabs and newlines
                         are translated to \\t and \\n.  A header record is
                         written.
        -all              Export all requests


23 Feb 2000
-----------

* Fixes to the mail gateway's actions system from "Heather L. Sherman" <heather@idealab.com> 

14 Jan 2000
-----------
* Changed the max queue member email address length to 120 characters to deal
  with queue members with long email addresses.


23 Dec 1999
-----------

* Enabled a status = unresolved option for the web ui. thanks to
  brandon allbery <allbery@ece.cmu.edu> and Marion Hakanson <hakanson@cse.ogi.edu>

* Made most of the permissions and directory changes from Marion 
  Hakanson <hakanson@cse.ogi.edu> generally cleaned things up. but DID not
  include the changes to the directory creation, file copying and permission
  fixing code to enable RT_VAR_DIR

* Made the web ui use $MESSAGE_FONT when putting up the compose window.
    Marion Hakanson <hakanson@cse.ogi.edu>

* Genericised the templates to not mention the mythical "systems group"

6 Dec 1999
----------
* Fixed a bug with admin-webrt.cgi/frames. Thanks to
  Marion Hakanson <hakanson@cse.ogi.edu>   

* Fixd a frames spacing bug from Paul Evans <pm_evans@yahoo.com>   
 

3 Dec 1999
----------

* Fixed a typo introduced by tobix's latest patch for mail sending
  (Which he didn't update the news for. *poke* )

8 Nov 1999
----------
* Fixed a longstanding bug in rtq's -prio operator

21 Oct 1999
-----------

* Fixed a typo in date diff, thanks to Paul Evans

* Changed the logic in date_diff to be a bit more explicit about
  shorter lengths of time


20 Oct 1999
-----------
* Fixed leading spaces in the subject line when sending mail

* RT now uses "Request Tracker" or "Sender's friendly name via RT" 
  in its outgoing messages, depending on whether there was a 
  friendly name in the incoming headers.

* More work on cleaning up the from line

* Fixed the repeated (queue) (queue) in transaction messages

* When a message comes into the mailgate, RT is now more careful about whether 
  or not to send it to the user. (This fixes a bug introduced in last night's 
  build)

* RT now uses a queue's mail alias when sending mail.

* Using the web UI to send correspondence should no longer not
  sent the correspondence if there are CCs, BCCs or the actor is
  the same as the requestor. thanks to <douglas@arepa.com> for 
  pointing out the deficiency.
  

6 Oct 1999
----------

* Integrated a new release of the documentation from Michael Brader

* Fixed an oversight in the makefile that affected people with remote databases
  Thanks to Adam Hammer <hammer@math.purdue.edu>   

4 Oct 1999
----------

* Fixed a bug in database/manipulate.pm which caused tickets to get disowned 
  when they changed queues. -- Thanks to Robin Shostack <robin@cs.brandeis.edu>

* Added a feature to the cli display engine that i'm not telling people about,
  as it's orthogonal to the 1.0 release. Fnord.

30 Sep 1999
-----------
*  Edited the README to include some new contributers and remove outdated info
    (and add the website)

*  Removed the upgrade instructions for versions older than .9.4.  If you want
    them, download .99.9

*  [fsck #140] In late august, tobias caused request creation via the 
    web ui to drop you into the "ticket display" after you create a ticket.

*  Fixed [fsck.com #86]. The "comment" and "reply" links at the top
    and bottom of the ticket page should no longer quote the most recent
    transaction

*  Fixed a bug which caused RT to go crazy when comments were submitted
   by may without a ticket #.

The following changes are from johnl@microware.com

   1. Directories were not getting created with the correct modes under
            /usr/local/rt/transactions.                                            
       The umask() takes an octal file mode mask, not a file mode.
          In addition I read the comments about $dirmode not working when
          doing the mkdir's in content.pm.  I also fixed content.pm to use
          $dirmode.  The main problem was the $dirmode was being set to a string
          instead of an octal number.  

  Fixes to database.pm
    1.  The first hunk fixes problem where the call to write_content is
        passing $time.  This variable does not exist.   It looked like $time was
        supposed to be the current time.  ($time always == 0).  I changed all
        occurances of $time to time (IE: time()).
    2.  The first hunk also passes $in_time instead of $time. 
    3.  The rest of the hunks fix $time and replace them with time(). 

27 Sep 1999
-----------
Fixed a bug which caused the priority not to get set to the default
when requests were created in the webui. Thanks to <Elmar.Knipp@knipp.de>


2 Aug 1999
----------

Minor mailui change to hopefully better strip subjecgt lines

Added still-broken -trans option to bin/rt for steve rader's xrts
Full support will probably appear in 1.1 soon

27 July 1999
------------
Added a fix to the mailgate that had problems with repeated headers, as
	would happen with forwarded mail.

Some cleanup to the cli rtq's online help files
25 July 1999
------------
Added the ability to limit to a given area on the cli query engine

Added the ability to display the due date in the cli query engine


21 July 1999
------------

Fix for [fsck #102] Better checks in is_not_a_requestor. this should fix
	issues with external users being equated with queue members.

Fix for [fsck #114] Comment from bin/rt was accidentaly access controlled.

Fix for [fsck #113] Display of requests users can't manipulate should now give 
	ian error

19 July 1999
------------
Fix for [fsck #104]  We no longer try to reset the user's uid after writing
	transaction content to the filesystem. This should help out Net/OpenBSD
	compatibility

Removed some legacy support for glimpse searching

Fix for [fsck #115] The web ticket list should now wrap reasonably, so it's 
	printable.
Fix for [fsck #85] Now properly generate precedence headers

Fix for [fsck #88] WebUI area SELECT bug.

Fix for [fsck #90] A small html bug in WebRT		

Fix for [fsck #92] "Allow non-members to create requests" appeared twice
	in the WebAdmin

Fix for [fsck #94] web ui forms are now 78 chars wide

7 pul 99
--------

Now, only users with "manipulate" access are considered to be queue members.
Fixed a problem in rt-mailgate that caused it to take a Sender: header as gospel if it came before a Reply-To: [fsck #80]
Giving a request to yourself in the webui will no longer prompt the user to "Steal" their own request

6 Jul 99
--------

Made queue deletion work...unquoted and quoted values were being used in the wrong place.

Cleaned up the admin ui to make it slightly more understandable

queue names with spaces in them should now work better, i hope. [fsck #76]

Now, if you move a request to a new queue, it won't disown it if the same person can own reqs in the new queue. [fsck #75] (untested)

Fixed a problem with cli create not properly handling due dates ([fsck #67])
Fixed a duplicate --help entry for bin/rt [fsck #69]
Fixed bugs fsck  #68/77: Odness Merging RT requests 

Transactions from merged requests will now be displayed along with the request id of the request that transaction was originially associated with.

Fixed [fsck #74], which was reported by charlie brady:
   Messages are sent out from the mail interface with content first, then
   "--- Headers Follow ---", then the headers. In our vanilla sendmail setup,
   before the headers is a UUCP style deliver notification "From blah Tue Jul
   6 18:13:01 1999" line. This is interpreted by many mail agents as a
   message delimiter, so that what is seen in the mail agent is not one, but
   two messages. This is easily fixed by using the conventional quoting
   mechanism...
Fixed [fsck #71] WebRT: "User" should be "Requestor" 

Released .99.8pre9

29 Jun 99
---------
Got cookies auth working with ie4.01sp1 and Navigator.

23 Jun 99
---------
Got Cookies auth working finally, i think.
Moved from custom CGI form field parsing to CGI.pm (it only required a few lines of code changes)
Fixed bug in frames webui.
Reworked descriptions of mail states to make them slightly less obtuse.
Added arepa to the list of credits.
Editied the Makefile to reflect the new CGI.pm dependence
Bumped the version to .99.9pre7



16 Jun 99
---------
Made the authentication page pass-through any querystring after authentication succeeds
Fixed a bug that caused recent versions of CGI::Cookie to break authentication
Alas, there's another bug there too.

14 Jun 99
---------

Web UI now respects minimum password length
Allowed the specification of a non-root Database superuser.
Made is_not_a_requestor comparison case insensitive
Cleaned up some of the web refresh code.
Web queue listing headings have been compacted per rich.
Fixed a bug in comment which caused it to break when there was no to line
Fixed a date selector bug with a  patch to lib/rt/ui/web/support.pm in  Michael Brader <mbrader@aurema.com> 
Stray debug code yanked by Charlie Brady <charlieb@aurema.com> 
Fixed some bugs in cc/bcc on comment from Tobias Brox
Removed some legacy code from when we had to deal with  doing our own http error codes by charlieb@aurema.com
Fixed a lot of HTML nits from charlieb@aurema.com
a patch for getting the from-lines nicer when using the mail-ui by Tobias Brox
Fixed some bogosity in rtadmin user -getpwent from charlieb@aurema.com
Comments are no longer mailed to the requestor if you have 'notify user on transaction' turned on
Comments are no longer access-controlled
Big change: only users with "manipulate" or "queue admin" permissions will get queue email from here on in.
	(formerly, anyone with "display" permission would get queue mail.  -- charlieb@aurema.com


12 May 99
---------

Cookies hacked to deal with the fact that some versions of netscape
don't deal well with a "path=/" statement. 

Rolled .99.8pre4


11 May 99
---------
Loop prevention has been fixed, thanks to Tobias Brox

Rolled .99.8pre2

Made error messages on the web admin interface more prominent.

All the following changes are from tobix:

	Correspondence from RT now properly reflect the name of the sender 
	in the "from" header.

	Automated messages now properly have a "Precedence: bulk" header

	A stupid error with rt::mail_alias has been fixed

	Tobix' patch removes headers from all correspondence.  I'm relatively
	afraid of this change, so I'm going to comment it out for now.

	rtadmin (the commandline has a new tool) :
	     -update <passwd> <admin> [<users>]  updates user(s) from the
                   /etc/passwd file. If no users are specified, ALL
                   of /etc/passwd will be processed.	

9 May 99
--------
Changed cookie-authentication to use a hash of username-password and ip address
instead of "plaintext password."
Made the scripts capable of operating in nph- or "standard cgi" mode. Standard
CGI mode is now the default.

Rolled .99.8pre1


4 May 99
--------
With lots of help from Charlie Brady, resolved some cookie-auth bugs
Fixed some problems with frames and cookies

Bumped version to .99.7

28 Apr 99
---------
added patches from yuji to complain if it can't write request data to disk


26 Apr 99
---------

Incorporated a mailgate fix from lamont lucas
Integrated ingo's cookies auth patches
Made web auth configurable.
Made the IE Cookies hack configurable
Incorportated Rich West's Auth fixes.

20 Apr 99
---------
Removed vestiges of CERN from the makefile.
Added more description to the makefile

13 apr 99
---------
fixes for IE authentication
some web ui tweaks.

7 apr 99
--------
fixes for newer versions of MysqlModules which can't handle null values to be
quoted.

also, we now allow null requestors.



7 apr 99
---------

more cookie fixes

7 apr 99
--------
added some cookie fixes from charlie brady

6 apr 99
--------
Switched to cookie authentication. it's probably buggy as hell.


2 apr 99
--------
Updated makefile.
you must now specify the mysql root password in the makefile if one exists.

Added new docs from adam@baz.org

released .99.5

21 mar 99
---------
Updated readme:

From Rich West:
Here is the updated version of lib/rt/ui/mail/manipulate.pm which contains
the following modifications:
o  "%RT resolve" without a number assumes that you are trying to
   resolve the current ticket number, if there is one.
o  If "%RT user" is omitted, it attempts to use the sender name of the
   originating email.
o  "%RT resolve" actually resolves the ticket.. saving the resolution
   until the very last step.  Otherwise, the ticket would be resolved, then
   re-opened due to the correspondence.


8 mar 99
--------
fixed make acls bogosity where it choked if you had a password 
3 Mar 99
--------
Fixed a spacing bug in the mail interface

26 Feb 99
---------
Added make upgrade-noclobber that doesn't clobber the config.pm
commandline -create no longer barfs on blank "due" dates.
You can no longer merge a request into a non-existent other request

24 Feb 99
---------
Added a better message loop detection system.

23 Feb 99
---------

Fixed "delete user" functionality, which was totally broken.
thanks to rich west.

20 Feb 99
---------
tiny admin ui tweak to make lynx happier
added a wrapping fix from dave walton

19 Feb 99
---------
Cleaned up the web create template some more.
Cleaned up the "standard" toolbar.

18 Feb 99
---------
Cleaned up the web create template a bit

Fixed a couple of bugs in the web ui which made dealing with queues with
spaces in their names more difficult.



16 Jan 99
---------

Fixed a bug in the web acls setting.

15 Jan 99
---------

Lots of misc updates to fix small bugs.
Fixed several acls bugs.
the web admin no longer dumps you to the main menu quite as gratuitously.



2.  Made comments and replies update date_acted.

	-- Dave Walton

Ok.. I know this is being picky, but, in rt/lib/ui/web/support.pm, the
subroutine "content_header", at line 290, should have:
    print "<head><title>WebRT</title></head>\n";
-Rich

Oh, one other.

8.  etc/mysql.acl, line 5
The RT_MYSQL_HOST entry on that line doesn't make any sense
when MySQL is on a different host than RT.  That should be
RT_HOST, or some such thing.

Dave

After just upgrading to Apache 1.3.0 from 1.2.5, I figured I would make it
known that, in the file <apache_src_dir>/src/main/util_script.c, you have
to define SECURITY_HOLE_PASS_AUTHORIZATION to allow for RT's authorization
to work properly.
-Rich

On Tue, Oct 06, 1998 at 09:19:07PM -0700, Dave Walton wrote:
> I just discovered that if there is an error in add_correspondence, the
> mail interface discards the incoming mail without comment.  To
> correct this, I took the following steps:
>
In mail.pm, there's a space before :
  
From: $rt::mail_alias

This causes problems in some mail clients, putting the From: line on the
same line as the subject.  If the spaces are removed this is fixed.
  
Regards,
From: "Andrew Foster" <adf@fl.net.au>


19 Nov 98
---------

Incorportated patches from Dave Walton to fix a typo, replace an accidentally 
blown away library and add a "last acted" column to the web ui.
incremented version to .9.20


2 Aug 98
--------

Incorporated a LOT of changes from Serge Zhuk <serge@yahoo-inc.com>

Included newest versions of Rich West's req2rt and other scripts.

Bug fixes:

- changing user permissions via web queue-editing ui now actually works

- cli admin ui tweaks

- noted Mysql 3.22 compatibility.

- mail header <From:> was inserted using sendmail -f, what produces
  X-Authentication warning on each message

- 'Merge' function was completely incorrect- needed special handling of 
  effective_sn field, e-mail addresses of requestors were merged incorrectly,
  transaction had an empty date and text, webrt displayed junk 
  (empty transactions) as it didn't change the SN after the 'Merge',
  a lot of related bugs

- Area-s handling in 'Create request' was incorrect due to the bug in acl
  check (non-existent variable was checked)

- Several 'SELECTED' entries in a menu is a bug as web browsers handle it
  differently. Netscape takes the first 'SELECTED' entry while IE4 takes the
  last one. There should be only one ;)
  
  So with IE4, users ACL in Q configuration was displayed incorrectly (all
  users have 'Display' privelege) and if you press 'Update', new ACL will be
  set to 'Display' only, including the Q admin.  The option was exclusive 
  anyway, so it doesn't make any sense to SELECT several entries.

- Q admin had possibility to remove his own Q admin privelege, so with the
  above bug, he locks himself out.  Note, that this bug didn't affect 'RT 
  admin' attrib.

- only RT admin could change Q config as Q admin attrib was checked
  incorrectly (wrong variable name)

- 'change area' transaction was producing incorrect message when request was
  moved from an area to the main Q (to area 'None')

- 'change Q' option didn't work properly. rt didn't notice the change, 
  resulting empty transactions and junk on the screen

- duplicate transactions in attempt to change any field which wasn't
  actually changed (like change of status from 'open' to 'open' etc)

- a lot of other bugs i don't remember about ;)

New features:


- password length check added, empty passwords are not allowed. 5 char password
  minimum by default.  This is setable in the Makefile or config.pm 

- mail header <From:> is using an e-mail address of the Q, user sent request
  to, not the generic rt_alias as it's confusing for the users

- don't mail message headers to anybody

- don't display message headers either as this is annoying

- notify requestors/owners/q_members according to the Q settings
  (was totally broken before)

- e-mail addresses are always fully qualified now option '$domain' added 
  to /etc/config.pm for that and for checking the duplicates in the 
  'requestors' field.  '/etc/domainname' etc could be inefficient as your 
  mail domain could be different of your host domain.
  
- real_name field is in use now you can enter/change it from the admin web page

- alias %owner% (newly added) expands to the real name and e-mail address of
  the request's owner in a mail template


- send message to the request owner in case of the owner change because
  of 'steal' or 'merge'.

- 'Modify Q' in web admin changed to View/Modify depending on user's priveleges

- Sort users and Q-s by name in all web selections.  Helps to find needed 
  Q/person if you have many Q-s and/or Q members

- allow Q member to change the request's Q even if he doesn't own the
  request don't make him 'take' and then change Q, 'cause it's annoying and 
  was done only because it was easy to code ;)

- display requestor's personal information if company phone directory is
  available on the web.  Change '$isweb_uinfo' in web/manipulate.pm sub 
  display_summary() to the appropriate URL for your company



Additionally, serge added some functionality to mail to the user on "take, give, steal, etc." which I didn't patch into the main codebase, as it goes against my philosophy of how RT should work in this incarnation.  He also added functionality to make webrt work as a non-ssl-based script.  I removed this, as I'll be adding cookie-auth soon.  


I've added some new/updated patches to rt/contrib. check them out. We've got some new reporter code and a new version of req2rt from rich west as well as some code from serge to keep track of queue preferences with cookies.


ISSUES REMAINING IN .9.18:
	with view only, the user should NOT be able to have options to change 
	things in webrt.

	optionally, don't show/send headers.



26 Jun 98
---------
	
	Well, Here's RT 0.9.17.  .9.15 and .9.16 were released over the past
	several days and have most of the improvements in this new version.
	
	New:
		* Documentation from <adam@apocalypse.org> (see rt/docs) 
		 it's still in preliminary form, but it's here
		* cleaned up admin interface
		* bug fixes for mysql 3.21 (though there are issues with 
		mysql 3.21 and the web interface that have been reported by SOME
		users.

		* Ingo Luetkebohle <ingo@devconsult.de> has contributed the 
		  beginnings of code to allow an http server to perform 
		  authentication for us. (Like apache-ssl with mod_mysql_auth)
		  expect this in the next beta or so

		* 3 and 5 minute refresh options in web-queue-view

		* auto-configuration of cern httpd.conf files.  apache version
		  coming soon.


		* Eliminated apparent need for glimpse.  We're never going to 
		  use it. Instead we'll just be going to mysql for transaction
		  content by 1.1 or so.

		A bunch of other stuff I've forgotten.	
2 Apr 1998
----------

	RT 0.9.10 is a probably a bit more flaky than 0.9.9.  I added a bunch of
	new ui stuff and made the install more configurable and made upgrades
	easier.  Changes are too numerous to list but here's a summary:

	webrt:
	* nicer display of forms in netscape.
	* nicer display of forms in lynx
	* got rid of ugly black button bar
	* queue can now auto-refresh

	rt once again works w/ sendmail versions < 8.8 
	rt now works with mysql 3.21 (untested)
	the readme is more verbose
	the readme now tells you exactly how to make apache work with RT

	all in all we're much closer to 1.0.  I feel a lot better about the 
	web ui than I have in recent memory.  the cli could still use some work.




26 Jan 1998
-----------

	RT 0.9.8 is a lot more robust than 0.9.7.  I've played with this version a lot more
	than other recent releases.  A lot of tiny little bugs that just made things hard have been
	eradicated.  This version doesn't change anything major.  However, a lot of the changes made in
	0.9.5, 0.9.6 and 0.9.7 now actually work.  There shouldn't be any more taint complaints.
	Also, the web UI now sports an additional button bar for the most frequently used buttons.
	A lot of the silly stuff i was doing with procedure calls to make html tables has been wiped.
	that should make things a bit speedier.  
	WebRT will now tell you who you're logged in as.
	make upgrade (for upgrades from .9.5 or greater) now works
	transaction reporting by mail is now more verbose
	mailgate will now drop mail loops from postmaster.
	and many other small bug fixes that have been nagging me for the past 6 months.
	

1 Jan 1998
----------
	Extensive changes have been made to rt's internals in preparation for a 1.0 release
	Mysql serial numbers are now used in place of the reqnum and transactnum c programs.
	RT's library structure has been extensively reworked to make it more readable and 
		maintainable. this may have degraded performance slightly. if RT is noticably 
		slower, I want to know about it.
	Replaced the C setuid wrapper with a more flexible & stable perl version.
	Moved RT.pm to the etc directory and restructured it to be more maintainable.
	Reworked the makefile to concentrate all install-time options in a single location.
		config.pm, mysql.acl and rtmux.pl will be automatically configured with the values
		set in the makefile
	Several typos fixed.
	Adding comments in webrt no longer opens a spurious window.
	Soon, CC and Bcc on response/comment will be possible.
	database interaction has been cleaned up.
	RT now runs with TAINT checks enabled. this is much safer, but may cause rt to yelp. if it
		does, please report it.


Aug 24, 1997
------------
	The mailing routines now correctly print the To: line.
	The mailing routines should now be able to handle bizzare 
	  email addresses on the command line. (I added a pair of " marks.)

25 Aug 1997
-----------
	Changing subject now returns a correct response.
	Database Select errors are now more verbose.
	Added in Rich West's new README. (Thanks, Rich!)

9 Sep 1997
----------
	Added support routines for importing requests
	Added rich west's req2rt program in contrib
	Web interface now does header parsing
	Web interface now displays things in <angle brackets> in messages properly.
	There were other fixes which I've forgotten.



